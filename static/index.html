<!DOCTYPE html>
<html lang="en" data-bs-theme="dark"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinematic Dreams - AI Forge</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
        .chat-container { display: flex; flex-direction: column; height: 95vh; max-width: 800px; margin: 2.5vh auto; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .chat-header { border-bottom: 1px solid #495057; padding: 1.25rem; font-weight: bold; }
        .chat-box { flex-grow: 1; overflow-y: auto; padding: 1.25rem; }
        .message { display: flex; margin-bottom: 1rem; }
        .user .bubble { margin-left: auto; background-color: #0d6efd; border-top-right-radius: 5px; }
        .bot .bubble { background-color: #343a40; border-top-left-radius: 5px; }
        .bubble { padding: 0.75rem 1.25rem; border-radius: 20px; max-width: 80%; line-height: 1.5; }
        .input-group { border-top: 1px solid #495057; }
        #user-input { background-color: #212525; border: none; color: #fff; } 
        #user-input:focus { box-shadow: none; }
        #send-btn { border: none; }
        .typing-indicator span { height: 8px; width: 8px; background-color: #6c757d; border-radius: 50%; display: inline-block; animation: bounce 1.4s infinite ease-in-out both; }
        .typing-indicator span:nth-of-type(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-of-type(2) { animation-delay: -0.16s; }
        @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }
        /* CSS for suggestion buttons */
        #suggestion-box {
            background-color: #212529; 
            border-bottom-left-radius: 15px; 
            border-bottom-right-radius: 15px;
            padding-bottom: 1rem !important; 
        }
        .suggestion-section {
            margin-bottom: 1rem; 
        }
        .suggestion-section h6 {
            margin-bottom: 0.5rem;
            color: #adb5bd; 
        }
        .suggestion-buttons-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem; 
            justify-content: center; 
        }

        /* THÊM CSS MỚI CHO DEBUG INFO */
        .debug-toggle-btn {
            font-size: 0.7rem;
            padding: 0.1rem 0.5rem;
            margin-top: 0.2rem;
            color: #bbb;
            background: none;
            border: none;
            text-decoration: underline;
            cursor: pointer;
            display: block; 
            text-align: left; 
        }
        .debug-toggle-btn:hover {
            color: #fff;
        }
        .debug-info {
            margin-top: 0.5rem;
            font-size: 0.75rem;
            color: #ccc;
            background-color: #3f0f0f; 
            border-radius: 5px;
            padding: 0.5rem;
            max-height: 200px; 
            overflow-y: auto; 
            border: 1px solid #7c2d2d;
            word-break: break-word; 
            white-space: pre-wrap; 
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="card text-white bg-dark chat-container">
            <div class="card-header chat-header">Cinematic Dreams AI Assistant</div>
            <div class="card-body chat-box" id="chat-box">
                <!-- TIN NHẮN ĐẦU TIÊN SẼ ĐƯỢC THÊM BẰNG JS -->
            </div>
            
            <!-- DIV CHÍNH CHO CÁC CÂU HỎI GỢI Ý -->
            <div id="suggestion-box" class="p-3">
                <div id="related-suggestions-section" class="suggestion-section">
                    <h6 class="text-start">Test with Related Questions:</h6>
                    <div class="suggestion-buttons-container" id="related-suggestions-buttons">
                    </div>
                </div>
                <div id="unrelated-suggestions-section" class="suggestion-section">
                    <h6 class="text-start">Test Out-of-Scope Questions:</h6>
                    <div class="suggestion-buttons-container" id="unrelated-suggestions-buttons">
                    </div>
                </div>
            </div>
            
            <div class="card-footer input-group">
                <input type="text" id="user-input" class="form-control" placeholder="Forge your query...">
                <button id="send-btn" class="btn btn-primary"><i class="bi bi-send-fill"></i></button>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/script.js"></script> <!-- ĐÃ SỬA ĐƯỜNG DẪN TỚI script.js -->
</body>
</html>
